(()=>{"use strict";var e,t=[{device:1,length:1,price:{GBP:27.99,EUR:51.99,USD:62.99}},{device:1,length:2,price:{GBP:43.99,EUR:65.99,USD:75.99}},{device:3,length:1,price:{GBP:35.99,EUR:42.99,USD:49.99}},{device:3,length:2,price:{GBP:63.99,EUR:78.99,USD:87.99}},{device:5,length:1,price:{GBP:43.99,EUR:65.99,USD:75.99}},{device:5,length:2,price:{GBP:71.99,EUR:89.99,USD:99.99}}],c={GBP:"£",EUR:"€",USD:"$"},o=localStorage.getItem("currency")?localStorage.getItem("currency"):"GBP",n=document.querySelector(".select__product-options"),i=document.querySelector(".select__currency-options"),s=document.querySelector(".buy__price-text--new"),r=function(e,t,c){var n=document.querySelector(e),i=document.querySelectorAll(t),s=n.querySelector(".selected__value");s.textContent=c,".select__product"===e&&i.forEach((function(e){e.dataset.product===c&&e.classList.add("select__product-option--selected")})),n.addEventListener("click",(function(e){!function(e){n.classList.toggle("is-active"),n.classList.contains("is-active")&&e.target.closest("div").classList.contains("selected__product-container")?n.querySelector(".select__product-options").classList.add("select__product-options--border"):!e.target.closest("div").classList.contains("selected__product-container")&&!e.target.closest("ul").classList.contains("select__product-options")||n.classList.contains("is-active")||n.querySelector(".select__product-options").classList.remove("select__product-options--border")}(e)})),i.forEach((function(t){t.addEventListener("click",(function(c){!function(t){if(".select__currency"===e&&(s.textContent=t.target.textContent,o=s.textContent,localStorage.setItem("currency",o),document.location.reload()),".select__product"===e){var c=t.target.dataset.price;s.textContent=t.target.dataset.product,l(c)}}(c),c.target.classList.contains("select__product-option")&&(i.forEach((function(e){e.classList.remove("select__product-option--selected")})),t.classList.add("select__product-option--selected"))}))}))};!function(){for(;i.firstChild;)i.removeChild(i.firstChild);for(var e in c){var t=document.createElement("li");t.classList.add("select__currency-option"),t.textContent=e,i.appendChild(t)}}();var l=function(e){s.querySelector(".buy__price-text--new-bg").textContent=e.split(".")[0],s.querySelector(".buy__price-text--new-sm").textContent=".".concat(e.split(".")[1])};!function(){for(;n.firstChild;)n.removeChild(n.firstChild);t.map((function(e){var t=e.length<=1?"Year":"Years",i=c[o],s=document.createElement("li");s.classList.add("select__product-option"),s.textContent="".concat(e.device," Device, ").concat(e.length," ").concat(t,", ").concat(i).concat(e.price[o]),s.dataset.product="".concat(e.device," Device, ").concat(e.length," ").concat(t),s.dataset.price="".concat(i).concat(e.price[o]),n.appendChild(s)}))}(),e=document.querySelector(".select__product-options").children[2],l(e.dataset.price),r(".select__currency",".select__currency-option",o),r(".select__product",".select__product-option",e.dataset.product);var a=document.querySelector(".buy"),d=a.querySelector(".buy__grid-container"),u=a.querySelector(".buy__mobile-preview"),p=a.querySelector(".buy__compability"),_=document.querySelector(".header"),y=a.getBoundingClientRect().top,g=a.getBoundingClientRect().bottom,v=window.pageYOffset;window.onscroll=function(){var e=window.pageYOffset;v>e?(_.style.top="0",a.style.top="64px"):(_.style.top="-64px",a.style.top="0"),v=e,p.style.display=e>y?"none":"flex",window.matchMedia("(max-width: 640px)").matches&&(a.classList.remove("buy--sticky-desctop"),window.pageYOffset+window.innerHeight>g+50?(d.style.display="none",u.classList.remove("buy__mobile-preview-hidden"),a.classList.add("buy--sticky-mobile"),a.style="top: ".concat(window.innerHeight-(u.offsetHeight+10),"px")):(d.style.display="grid",u.classList.add("buy__mobile-preview-hidden"),a.classList.remove("buy--sticky-mobile"),a.style=""))},u.addEventListener("click",(function(e){e.target.classList.contains("buy__buttons-btn--mobile-preview")||(d.style.display="grid",p.style.display="none",u.classList.add("buy__mobile-preview-hidden"),a.style="top: ".concat(window.innerHeight-(d.offsetHeight+10),"px"))}))})();